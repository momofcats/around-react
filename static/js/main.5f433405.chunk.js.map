{"version":3,"sources":["images/logo.svg","images/success.svg","images/faliure.svg","components/NavBar.js","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/Form.js","utils/authApi.js","components/Login.js","components/Register.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/InfoToolTip.js","utils/Api.js","components/ProtectedRoute.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","NavBar","props","className","route","to","exact","Header","src","logo","alt","loggedIn","userEmail","onClick","onLogOut","CurrentUserContext","createContext","Card","currentUser","React","useContext","card","isOwner","owner","_id","cardLikeButtonClassName","likes","some","i","type","onCardDelete","style","backgroundImage","link","onCardClick","name","onCardLike","length","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","id","key","Footer","Form","action","noValidate","onSubmit","children","data-text","buttonText","authApi","options","this","credentials","request","JSON","stringify","token","fetch","method","headers","then","res","a","ok","json","body","Promise","reject","error","message","baseUrl","Login","useState","email","setEmail","password","setPassword","history","useHistory","resetForm","useEffect","localStorage","getItem","push","title","e","preventDefault","authorize","data","setItem","onLogin","catch","err","console","log","placeholder","required","value","onChange","target","Register","register","onSuccess","onFail","PopupWithForm","isOpen","evt","classList","contains","onClose","EditProfilePopup","setName","description","setDescription","handleChange","onUpdateUser","pattern","minLength","maxLength","EditAvatarPopup","input","useRef","onUpdateAvatar","current","ref","AddPlacePopup","linkInput","nameInput","ImagePopup","InfoToolTip","icon","text","api","all","getInitialCards","getUserInfo","cardId","formData","status","ProtectedRoute","Component","component","withRouter","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isSuccessPopupOpen","setIsSuccessPopupOpen","isFailPopupOpen","setIsFailPopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","setUserEmail","isLoading","setIsLoading","location","useLocation","setCardsOnLike","newCard","newCards","c","closeAllPopups","handleEscKey","jwt","getContent","document","addEventListener","removeEventListener","removeItem","pathname","Provider","path","delCard","filter","removeLike","addLike","user","updateUserInfo","postNewCard","avatarUrl","updateAvatar","success","failure","Boolean","window","hostname","match","ReactDOM","render","StrictMode","basename","process","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5f433405.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.8f7611ae.svg\";","module.exports = __webpack_public_path__ + \"static/media/success.e38b395c.svg\";","module.exports = __webpack_public_path__ + \"static/media/faliure.4072126c.svg\";","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nfunction NavBar(props) {\n\treturn (\n\t\t<nav className=\"menu\">\n\t\t\t{props.route === \"/signup\" && <NavLink className=\"menu__item\" to=\"/signin\">\n\t\t\t\tLog in\n\t\t\t</NavLink>}\n\t\t\t{props.route === \"/signin\" && <NavLink exact className=\"menu__item\" to=\"/signup\">\n\t\t\t\tSign up\n\t\t\t</NavLink>}\n\t\t</nav>\n\t);\n}\nexport default NavBar;","import React from \"react\";\nimport logo from \"../images/logo.svg\";\nimport NavBar from \"./NavBar\";\n\nfunction Header(props) {\n\treturn (\n\t\t<header className=\"header\">\n\t\t\t<img src={logo} alt=\"logo\" className=\"header__logo\" />\n\t\t\t{props.loggedIn ? (\n\t\t\t\t<div className=\"header__wrapper\">\n\t\t\t\t\t<p>{props.userEmail}</p>\n\t\t\t\t\t<button onClick={props.onLogOut} className=\"header__btn button\">\n\t\t\t\t\t\tLog out\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<NavBar\n\t\t\t\t\tonLogOut={props.onLogOut}\n\t\t\t\t\tloggedIn={props.loggedIn}\n\t\t\t\t\troute={props.route}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</header>\n\t);\n}\n\nexport default Header;\n","import {createContext} from 'react';\n\nexport const CurrentUserContext = createContext();","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n\tconst currentUser = React.useContext(CurrentUserContext);\n\tconst card = props.card;\n\tconst isOwner = card.owner._id === currentUser._id;\n\tconst isLiked = card.likes.some((i) => i._id === currentUser._id);\n\tconst cardLikeButtonClassName = isLiked\n\t\t? \"card__like card__like_active\"\n\t\t: \"card__like\";\n\n\tfunction handleClick() {\n\t\tprops.onCardClick(card);\n\t}\n\n\tfunction handleLikeClick() {\n\t\tprops.onCardLike(card);\n\t}\n\n\tfunction handleDeleteClick() {\n\t\tprops.onCardDelete(card);\n\t}\n\n\treturn (\n\t\t<li className=\"card\">\n\t\t\t{isOwner ? (\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclassName=\"button card__del\"\n\t\t\t\t\tonClick={handleDeleteClick}\n\t\t\t\t></button>\n\t\t\t) : (\n\t\t\t\t\"\"\n\t\t\t)}\n\t\t\t<div\n\t\t\t\tclassName=\"card__img\"\n\t\t\t\tstyle={{ backgroundImage: `url(${card.link})` }}\n\t\t\t\tonClick={handleClick}\n\t\t\t></div>\n\t\t\t<div className=\"card__description-wrapper\">\n\t\t\t\t<h2 className=\"card__title\">{card.name}</h2>\n\t\t\t\t<div className=\"card__likes-container\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={`${cardLikeButtonClassName} button `}\n\t\t\t\t\t\tonClick={handleLikeClick}\n\t\t\t\t\t></button>\n\t\t\t\t\t<p className=\"card__likes\">{card.likes.length}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</li>\n\t);\n}\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Main(props) {\n\tconst currentUser = React.useContext(CurrentUserContext);\n\t\n\n\treturn (\n\t\t<main>\n\t\t\t<section className=\"profile page__section\">\n\t\t\t\t<div className=\"media\">\n\t\t\t\t\t<div className=\"media__image-container\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\talt=\"profile\"\n\t\t\t\t\t\t\tclassName=\"media__image\"\n\t\t\t\t\t\t\tsrc={currentUser.avatar}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={props.onEditAvatar}\n\t\t\t\t\t\t\tclassName=\"media__btn media__btn_size_lg media__btn_hoverable\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"media__body\">\n\t\t\t\t\t\t<div className=\"media__item\">\n\t\t\t\t\t\t\t<h1 className=\"media__name\">{currentUser.name}</h1>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={props.onEditProfile}\n\t\t\t\t\t\t\t\tclassName=\"media__btn media__btn_size_sm button\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t></button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p className=\"media__job\">{currentUser.about}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<button\n\t\t\t\t\tonClick={props.onAddPlace}\n\t\t\t\t\tclassName=\"profile__btn button\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t></button>\n\t\t\t</section>\n\t\t\t<ul className=\"gallery page__section\">\n\t\t\t\t{props.cards.map((card, id) => (\n\t\t\t\t\t<Card\n\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\tcard={card}\n\t\t\t\t\t\tonCardDelete={props.onCardDelete}\n\t\t\t\t\t\tonCardClick={props.onCardClick}\n\t\t\t\t\t\tonCardLike={props.onCardLike}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</main>\n\t);\n}\n\nexport default Main;\n","import React from \"react\";\n\nfunction Footer() {\n\treturn (\n\t\t<footer className=\"footer page__section\">\n\t\t\t<p className=\"footer__copyright\">&#169; 2020 Around The U.S.</p>\n\t\t</footer>\n\t);\n}\n\nexport default Footer;","import React from \"react\";\nfunction Form(props) {\n\treturn (\n\t\t<form\n\t\t\tclassName=\"form\"\n\t\t\taction=\"#\"\n\t\t\tnoValidate\n\t\t\tname={props.name}\n\t\t\tonSubmit={props.onSubmit}\n\t\t>\n\t\t\t{props.children}\n\t\t\t{props.name && <button\n\t\t\t\tclassName={`form__submit-btn ${\n\t\t\t\t\tprops.name === \"login\" || props.name === \"register\"\n\t\t\t\t\t\t? \"form__submit-btn_theme_light\"\n\t\t\t\t\t\t: \"form__submit-btn_theme_dark\"\n\t\t\t\t}`}\n\t\t\t\ttype=\"submit\"\n\t\t\t\tdata-text=\"Save\"\n\t\t\t\tonSubmit={props.onSubmit}\n\t\t\t>\n\t\t\t\t{props.buttonText}\n\t\t\t</button>}\n\t\t</form>\n\t);\n}\nexport default Form;\n","class AuthApi {\n\tconstructor(options) {\n\t\tthis.options = options;\n\t}\n\n\tregister(credentials) {\n\t\treturn this.request(\"/signup\", \"POST\", JSON.stringify(credentials));\n\t}\n\n\tauthorize(credentials) {\n\t\treturn this.request(\"/signin\", \"POST\", JSON.stringify(credentials))\n\t}\n\n\tgetContent(token) {\n\t\treturn fetch('https://register.nomoreparties.co/users/me', {\n\t\t\tmethod: 'GET',\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t'Authorization': `Bearer ${token}`,\n\t\t\t},\n\t\t}).then(async (res) => {\n\t\t\tif (res.ok) {\n\t\t\t\treturn res.json();\n\t\t\t}\n\t\t\tconst body = await res.json();\n\t\t\treturn Promise.reject(body.error || body.message);\n\t\t});\n\t}\n\t\n\trequest(authApi, method, body) {\n\t\treturn fetch(`${this.options.baseUrl}${authApi}`, {\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tmethod,\n\t\t\tbody,\n\t\t}).then(async (res) => {\n\t\t\tif (res.ok) {\n\t\t\t\treturn res.json();\n\t\t\t}\n\t\t\tconst body = await res.json();\n\t\t\treturn Promise.reject(body.error || body.message);\n\t\t});\n\t}\n}\nconst authApi = new AuthApi({\n\tbaseUrl: \"https://register.nomoreparties.co\",\n});\n\nexport default authApi;\n","import React, { useState, useEffect } from \"react\";\nimport Form from \"./Form\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport \"../blocks/authentication/authentication.css\";\nimport authApi from \"../utils/authApi\";\n\nfunction Login(props) {\n\tconst [email, setEmail] = useState(\"\");\n\tconst [password, setPassword] = useState(\"\");\n\tconst history = useHistory();\n\n\tconst resetForm = () => {\n\t\tsetEmail(\"\");\n\t\tsetPassword(\"\");\n\t};\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tif (!email || !password) {\n\t\t\treturn;\n\t\t}\n\t\tauthApi\n\t\t\t.authorize({ email, password })\n\t\t\t.then((data) => {\n\t\t\t\tlocalStorage.setItem(\"jwt\", data.token);\n\t\t\t\tprops.onLogin(email);\n\t\t\t})\n\t\t\t.then(resetForm)\n\t\t\t.then(() => history.push(\"/\"))\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t};\n\n\tuseEffect(() => {\n\t\tif (localStorage.getItem(\"jwt\")) {\n\t\t\thistory.push(\"/\");\n\t\t}\n\t}, [history]);\n\n\treturn (\n\t\t<section className=\"authentication page__section\">\n\t\t\t<div className=\"authentication__container\">\n\t\t\t\t<h2 className=\"authentication__title\">{props.title}</h2>\n\t\t\t\t<Form\n\t\t\t\t\tname=\"login\"\n\t\t\t\t\ttitle=\"Log in\"\n\t\t\t\t\tbuttonText=\"Log in\"\n\t\t\t\t\tonSubmit={handleSubmit}\n\t\t\t\t>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"form__input form__input_theme_dark\"\n\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"form__input form__input_theme_dark\"\n\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t</Form>\n\t\t\t\t<div className=\"authentication__nav\">\n\t\t\t\t\t<span>Not a member yet?</span>\n\t\t\t\t\t<Link className=\"authentication__link\" to=\"/signup\">\n\t\t\t\t\t\tSign up here!\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</section>\n\t);\n}\n\nexport default Login;\n","import React, { useState, useEffect } from \"react\";\nimport Form from \"./Form\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport \"../blocks/authentication/authentication.css\";\nimport authApi from \"../utils/authApi\";\n\nfunction Register(props) {\n\tconst [email, setEmail] = useState(\"\");\n\tconst [password, setPassword] = useState(\"\");\n\tconst history = useHistory();\n\tconst resetForm = () => {\n\t\tsetEmail(\"\");\n\t\tsetPassword(\"\");\n\t};\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tauthApi\n\t\t\t.register({ email, password })\n\t\t\t.then(resetForm)\n\t\t\t.then(() => {\n\t\t\t\thistory.push(\"/signin\");\n\t\t\t\tprops.onSuccess();\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t\tprops.onFail();\n\t\t\t});\n\t};\n\tuseEffect(() => {\n\t\tif (localStorage.getItem(\"jwt\")) {\n\t\t\thistory.push(\"/\");\n\t\t}\n\t}, [history]);\n\n\treturn (\n\t\t<section className=\"authentication page__section\">\n\t\t\t<div className=\"authentication__container\">\n\t\t\t\t<h2 className=\"authentication__title\">{props.title}</h2>\n\t\t\t\t<Form\n\t\t\t\t\tname=\"register\"\n\t\t\t\t\ttitle=\"Sing up\"\n\t\t\t\t\tbuttonText=\"Sign up\"\n\t\t\t\t\tonSubmit={handleSubmit}\n\t\t\t\t>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\tclassName=\"form__input form__input_theme_dark\"\n\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tclassName=\"form__input form__input_theme_dark\"\n\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t</Form>\n\t\t\t\t<div className=\"authentication__nav\">\n\t\t\t\t\t<span>Already a member?</span>\n\t\t\t\t\t<Link className=\"authentication__link\" to=\"/signin\">\n\t\t\t\t\t\tLogin here!\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</section>\n\t);\n}\n\nexport default Register;\n","import React from \"react\";\nimport Form from \"./Form\";\n\nfunction PopupWithForm(props) {\n\tfunction handleOverlayClick(evt) {\n\t\tif (evt.target.classList.contains(\"popup_role_show\")) {\n\t\t\tprops.onClose();\n\t\t}\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName={`popup js-popup-${props.name} ${\n\t\t\t\tprops.isOpen\n\t\t\t\t\t? \"popup_role_show popup_background_light\"\n\t\t\t\t\t: \"popup_role_fade-out\"\n\t\t\t}`}\n\t\t\tonClick={handleOverlayClick}\n\t\t>\n\t\t\t<div className=\"popup__container popup__container_type_form\">\n\t\t\t\t<h2 className=\"popup__title\">{props.title}</h2>\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"popup__btn-close button\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={props.onClose}\n\t\t\t\t></button>\n\t\t\t\t<Form name={props.name} onSubmit={props.onSubmit} buttonText={props.buttonText} >\n\t\t\t\t\t{props.children}\n\t\t\t\t</Form>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default PopupWithForm;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n\tconst [name, setName] = useState(\"\");\n\tconst [description, setDescription] = useState(\"\");\n\tconst currentUser = useContext(CurrentUserContext);\n\n\tfunction handleChange(e) {\n\t\tconst { name, value } = e.target;\n\t\tswitch (name) {\n\t\t\tcase \"name\":\n\t\t\t\tsetName(value);\n\t\t\t\tbreak;\n\t\t\tcase \"about\":\n\t\t\t\tsetDescription(value);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tfunction handleSubmit(e) {\n\t\te.preventDefault();\n\t\tprops.onUpdateUser({\n\t\t\tname,\n\t\t\tabout: description,\n\t\t});\n\t}\n\n\tuseEffect(() => {\n\t\tif (currentUser.name) {\n\t\t\tsetName(currentUser.name);\n\t\t}\n\t\tif (currentUser.about) {\n\t\t\tsetDescription(currentUser.about);\n\t\t}\n\t}, [currentUser]);\n\n\treturn (\n\t\t<PopupWithForm\n\t\t\tname=\"profile\"\n\t\t\ttitle=\"Edit profile\"\n\t\t\tbuttonText=\"Save\"\n\t\t\tisOpen={props.isOpen}\n\t\t\tonClose={props.onClose}\n\t\t\tonSubmit={handleSubmit}\n\t\t>\n\t\t\t<input\n\t\t\t\trequired\n\t\t\t\tpattern=\"[a-zA-Z\\s\\-]+\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tvalue={name}\n\t\t\t\tclassName=\"form__input form__input_theme_light js-input-name\"\n\t\t\t\tname=\"name\"\n\t\t\t\tplaceholder=\"Name\"\n\t\t\t\tonChange={handleChange}\n\t\t\t\tminLength=\"2\"\n\t\t\t\tmaxLength=\"40\"\n\t\t\t/>\n\t\t\t<input\n\t\t\t\trequired\n\t\t\t\ttype=\"text\"\n\t\t\t\tvalue={description}\n\t\t\t\tclassName=\"form__input form__input_theme_light js-input-job\"\n\t\t\t\tname=\"about\"\n\t\t\t\tplaceholder=\"About me\"\n\t\t\t\tonChange={handleChange}\n\t\t\t\tminLength=\"2\"\n\t\t\t\tmaxLength=\"200\"\n\t\t\t/>\n\t\t</PopupWithForm>\n\t);\n}\n\nexport default EditProfilePopup;\n","import React, { useRef } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup(props) {\n\tconst input = useRef(null);\n\n\tfunction handleSubmit(e) {\n\t\te.preventDefault();\n\n\t\tprops.onUpdateAvatar({\n\t\t\tavatar: input.current.value,\n\t\t});\n\t}\n\n\treturn (\n\t\t<PopupWithForm\n\t\t\tname=\"change-avatar\"\n\t\t\ttitle=\"Change profile picture\"\n\t\t\tbuttonText=\"Save\"\n\t\t\tisOpen={props.isOpen}\n\t\t\tonClose={props.onClose}\n\t\t\tonSubmit={handleSubmit}\n\t\t>\n\t\t\t<input\n\t\t\t\ttype=\"url\"\n\t\t\t\tclassName=\"form__input form__input_theme_light js-input-link\"\n\t\t\t\tname=\"avatar\"\n\t\t\t\tplaceholder=\"Url\"\n\t\t\t\tref={input}\n\t\t\t\trequired\n\t\t\t/>\n\t\t</PopupWithForm>\n\t);\n}\n\nexport default EditAvatarPopup;\n","import React, { useRef } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPlacePopup(props) {\n\tconst linkInput = useRef(null);\n\tconst nameInput = useRef(null);\n\n\tfunction handleSubmit(e) {\n\t\te.preventDefault();\n\t\tprops.onAddPlace({\n\t\t\tname: nameInput.current.value,\n\t\t\tlink: linkInput.current.value,\n\t\t});\n\t}\n\n\treturn (\n\t\t<PopupWithForm\n\t\t\tname=\"photo-form\"\n\t\t\ttitle=\"New Place\"\n\t\t\tbuttonText=\"Create\"\n\t\t\tisOpen={props.isOpen}\n\t\t\tonClose={props.onClose}\n\t\t\tonSubmit={handleSubmit}\n\t\t>\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tref={nameInput}\n\t\t\t\tclassName=\"form__input form__input_theme_light js-input-title\"\n\t\t\t\tname=\"name\"\n\t\t\t\tplaceholder=\"Title\"\n\t\t\t\tminLength=\"1\"\n\t\t\t\tmaxLength=\"30\"\n\t\t\t\trequired\n\t\t\t/>\n\t\t\t<input\n\t\t\t\tref={linkInput}\n\t\t\t\ttype=\"url\"\n\t\t\t\tclassName=\"form__input form__input_theme_light js-input-link\"\n\t\t\t\tname=\"link\"\n\t\t\t\tplaceholder=\"Image link\"\n\t\t\t\trequired\n\t\t\t/>\n\t\t</PopupWithForm>\n\t);\n}\n\nexport default AddPlacePopup;\n","import React from \"react\";\n\nfunction ImagePopup(props) {\n\tfunction handleOverlayClick(evt) {\n\t\tif (evt.target.classList.contains(\"popup_role_show\")) {\n\t\t\tprops.onClose();\n\t\t}\n\t}\n\tconst card = props.card;\n\treturn (\n\t\t<div\n\t\t\tclassName={`popup popup_background_dark js-popup-picture ${\n\t\t\t\tprops.isOpen ? \"popup_role_show\" : \"popup_role_fade-out\"\n\t\t\t}`}\n\t\t\tonClick={handleOverlayClick}\n\t\t>\n\t\t\t<div className=\"popup__container popup__container_type_picture\">\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"popup__btn-close button\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={props.onClose}\n\t\t\t\t></button>\n\t\t\t\t<img className=\"popup__image\" src={card.link} alt={card.name} />\n\t\t\t\t<h2 className=\"popup__subtitle\">{card.name}</h2>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default ImagePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction InfoToolTip(props) {\n\treturn (\n\t\t<PopupWithForm\n\t\t\tisOpen={props.isOpen}\n      onClose={props.onClose}\n\t\t>\n\t\t\t<img src={props.icon} alt=\"success\" className=\"popup__icon\" />\n  <p className=\"popup__title page__centered\">{props.text}</p>\n\t\t</PopupWithForm>\n\t);\n}\n\nexport default InfoToolTip;\n","\nclass Api {\n  constructor(options) {\n    this.options = options;\n  }\n\n  getInitialCards() {\n    return this.request(\"/cards\");\n  }\n\n  getUserInfo() {\n    return this.request(\"/users/me\");\n  }\n\n  getAppInfo() {\n    return Promise.all([this.getInitialCards(), this.getUserInfo()]);\n  }\n\n  addLike(cardId) {\n    return this.request(`/cards/likes/${cardId}`, \"PUT\");\n  }\n\n  removeLike(cardId) {\n    return this.request(`/cards/likes/${cardId}`, \"DELETE\");\n  }\n\n  delCard(cardId) {\n    return this.request(`/cards/${cardId}`, \"DELETE\");\n  }\n\n  updateUserInfo(formData) {\n    return this.request(\n      \"/users/me\",\n      \"PATCH\",\n      JSON.stringify({\n        name: formData.name,\n        about: formData.about,\n      })\n    );\n  }\n\n  updateAvatar(formData) {\n    return this.request(\n      \"/users/me/avatar\",\n      \"PATCH\",\n      JSON.stringify({ avatar: formData.avatar })\n    );\n  }\n\n  postNewCard(formData) {\n    return this.request(\n      \"/cards/\",\n      \"POST\",\n      JSON.stringify({\n        name: formData.name,\n        link: formData.link,\n      })\n    );\n  }\n\n  request(api, method, body) {\n    return fetch(`${this.options.baseUrl}${api}`, {\n      headers: {\n        \"Authorization\" : '2ea24103-3839-4671-8e47-57675e6fba9c',\n        \"Content-Type\": \"application/json\",\n      },\n      method,\n      body,\n    })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Error: ${res.status}`);\n      })\n  }\n}\nconst api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/group-2\",\n});\n\nexport default api;","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n\treturn (\n\t\t<Route>\n\t\t\t{() =>\n\t\t\t\tprops.loggedIn ? <Component {...props} /> : <Redirect to=\"/signin\" />\n\t\t\t}\n\t\t</Route>\n\t);\n};\nexport default ProtectedRoute;\n","import React, { useState, useEffect } from \"react\";\nimport {\n\tRoute,\n\tSwitch,\n\twithRouter,\n\tuseHistory,\n\tuseLocation,\n} from \"react-router-dom\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport InfoToolTip from \"./InfoToolTip\";\nimport api from \"../utils/Api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport success from \"../images/success.svg\";\nimport failure from \"../images/faliure.svg\";\nimport authApi from \"../utils/authApi\";\n\nfunction App() {\n\tconst [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n\tconst [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n\tconst [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n\tconst [isSuccessPopupOpen, setIsSuccessPopupOpen] = useState(false);\n\tconst [isFailPopupOpen, setIsFailPopupOpen] = useState(false);\n\tconst [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n\tconst [selectedCard, setSelectedCard] = useState(0);\n\tconst [currentUser, setCurrentUser] = useState({});\n\tconst [cards, setCards] = useState([]);\n\tconst [loggedIn, setLoggedIn] = useState(false);\n\tconst [userEmail, setUserEmail] = useState(\"\");\n\tconst [isLoading, setIsLoading] = useState(true);\n\tconst history = useHistory();\n\tconst location = useLocation();\n\n\tfunction handleRegisterSuccess() {\n\t\tsetIsSuccessPopupOpen(true);\n\t}\n\n\tfunction handleRegisterFail() {\n\t\tsetIsFailPopupOpen(true);\n\t}\n\n\tfunction handleLogOut() {\n\t\tlocalStorage.removeItem(\"jwt\");\n\t\tsetLoggedIn(false);\n\t\thistory.push(\"/signin\");\n\t}\n\n\tfunction handleCardLike(card) {\n\t\tconst isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n\t\tif (isLiked) {\n\t\t\tapi.removeLike(card._id).then((newCard) => {\n\t\t\t\tsetCardsOnLike(card._id, newCard);\n\t\t\t});\n\t\t} else {\n\t\t\tapi.addLike(card._id).then((newCard) => {\n\t\t\t\tsetCardsOnLike(card._id, newCard);\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction handleLogin(email) {\n\t\tsetUserEmail(email);\n\t\tsetLoggedIn(true);\n\t}\n\tfunction setCardsOnLike(cardId, newCard) {\n\t\tconst newCards = cards.map((c) => (c._id === cardId ? newCard : c));\n\t\tsetCards(newCards);\n\t}\n\n\tfunction handleCardDelete(card) {\n\t\tapi.delCard(card._id).then((res) => {\n\t\t\tconst newCards = cards.filter((c) => c._id !== card._id);\n\t\t\tsetCards(newCards);\n\t\t});\n\t}\n\n\tfunction handleAddPlaceSubmit(formData) {\n\t\tapi\n\t\t\t.postNewCard(formData)\n\t\t\t.then((newCard) => {\n\t\t\t\tsetCards([newCard, ...cards]);\n\t\t\t})\n\t\t\t.catch(console.log);\n\t\tconsole.log(cards);\n\t\tcloseAllPopups();\n\t}\n\n\tfunction handleCardClick(card) {\n\t\tsetSelectedCard(card);\n\t\tsetIsImagePopupOpen(true);\n\t}\n\n\tfunction handleEditAvatarClick() {\n\t\tsetIsEditAvatarPopupOpen(true);\n\t}\n\n\tfunction handleEditProfileClick() {\n\t\tsetIsEditProfilePopupOpen(true);\n\t}\n\n\tfunction handleAddPlaceClick() {\n\t\tsetIsAddPlacePopupOpen(true);\n\t}\n\n\tfunction closeAllPopups() {\n\t\tsetIsEditAvatarPopupOpen(false);\n\t\tsetIsEditProfilePopupOpen(false);\n\t\tsetIsAddPlacePopupOpen(false);\n\t\tsetIsImagePopupOpen(false);\n\t\tsetIsFailPopupOpen(false);\n\t\tsetIsSuccessPopupOpen(false);\n\t\tsetSelectedCard(0);\n\t}\n\n\tfunction handleEscKey(evt) {\n\t\tif (evt.key === \"Escape\") {\n\t\t\tcloseAllPopups();\n\t\t}\n\t}\n\n\tfunction handleUpdateUser(user) {\n\t\tapi\n\t\t\t.updateUserInfo(user)\n\t\t\t.then((res) => {\n\t\t\t\tsetCurrentUser(res);\n\t\t\t})\n\t\t\t.catch(console.log);\n\t\tcloseAllPopups();\n\t}\n\n\tfunction handleUpdateAvatar(avatarUrl) {\n\t\tapi\n\t\t\t.updateAvatar(avatarUrl)\n\t\t\t.then((res) => {\n\t\t\t\tsetCurrentUser(res);\n\t\t\t})\n\t\t\t.catch(console.log);\n\t\tcloseAllPopups();\n\t}\n\n\tuseEffect(() => {\n\t\tif (!loggedIn) {\n\t\t\tlet jwt = localStorage.getItem(\"jwt\");\n\t\t\tif (jwt) {\n\t\t\t\tauthApi.getContent(jwt).then((res) => {\n\t\t\t\t\tif (res) {\n\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t\tsetLoggedIn(true);\n\t\t\t\t\t\tsetUserEmail(res.data.email);\n\t\t\t\t\t\thistory.push(\"/\");\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsetIsLoading(false);\n\t\t\t}\n\t\t}\n\t}, [history, loggedIn]);\n\n\tuseEffect(() => {\n\t\tif (loggedIn) {\n\t\t\tapi\n\t\t\t\t.getUserInfo()\n\t\t\t\t.then((data) => {\n\t\t\t\t\tsetCurrentUser(data);\n\t\t\t\t})\n\t\t\t\t.catch(console.log);\n\t\t}\n\t}, [loggedIn]);\n\n\tuseEffect(() => {\n\t\tif (loggedIn) {\n\t\t\tapi\n\t\t\t\t.getInitialCards()\n\t\t\t\t.then((cards) => {\n\t\t\t\t\tsetCards(cards);\n\t\t\t\t})\n\t\t\t\t.catch(console.log);\n\t\t}\n\t}, [loggedIn]);\n\n\tuseEffect(() => {\n\t\tdocument.addEventListener(\"keydown\", handleEscKey);\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener(\"keydown\", handleEscKey);\n\t\t};\n\t});\n\n\tif (isLoading) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<>\n\t\t\t<Header\n\t\t\t\tonLogOut={handleLogOut}\n\t\t\t\tloggedIn={loggedIn}\n\t\t\t\tuserEmail={userEmail}\n\t\t\t\troute={location.pathname}\n\t\t\t/>\n\t\t\t<CurrentUserContext.Provider value={currentUser}>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path=\"/signin\">\n\t\t\t\t\t\t<Login onLogin={handleLogin} title=\"Log in\" />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path=\"/signup\">\n\t\t\t\t\t\t<Register\n\t\t\t\t\t\t\ttitle=\"Sign up\"\n\t\t\t\t\t\t\tonSuccess={handleRegisterSuccess}\n\t\t\t\t\t\t\tonFail={handleRegisterFail}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Route>\n\t\t\t\t\t<ProtectedRoute\n\t\t\t\t\t\texact\n\t\t\t\t\t\tpath=\"/\"\n\t\t\t\t\t\tloggedIn={loggedIn}\n\t\t\t\t\t\tcomponent={Main}\n\t\t\t\t\t\tonEditProfile={handleEditProfileClick}\n\t\t\t\t\t\tonAddPlace={handleAddPlaceClick}\n\t\t\t\t\t\tonEditAvatar={handleEditAvatarClick}\n\t\t\t\t\t\tonCardClick={handleCardClick}\n\t\t\t\t\t\tcards={cards}\n\t\t\t\t\t\tonCardDelete={handleCardDelete}\n\t\t\t\t\t\tonCardLike={handleCardLike}\n\t\t\t\t\t/>\n\t\t\t\t</Switch>\n\t\t\t\t{loggedIn && <Footer />}\n\n\t\t\t\t<EditProfilePopup\n\t\t\t\t\tisOpen={isEditProfilePopupOpen}\n\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\tonUpdateUser={handleUpdateUser}\n\t\t\t\t/>\n\t\t\t\t<AddPlacePopup\n\t\t\t\t\tisOpen={isAddPlacePopupOpen}\n\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\tonAddPlace={handleAddPlaceSubmit}\n\t\t\t\t/>\n\t\t\t\t<EditAvatarPopup\n\t\t\t\t\tisOpen={isEditAvatarPopupOpen}\n\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\tonUpdateAvatar={handleUpdateAvatar}\n\t\t\t\t/>\n\t\t\t\t<ImagePopup\n\t\t\t\t\tisOpen={isImagePopupOpen}\n\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\tcard={selectedCard}\n\t\t\t\t/>\n\t\t\t\t<InfoToolTip\n\t\t\t\t\tisOpen={isSuccessPopupOpen}\n\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\ticon={success}\n\t\t\t\t\ttext=\"Success! You have now been registered.\"\n\t\t\t\t/>\n\t\t\t\t<InfoToolTip\n\t\t\t\t\tisOpen={isFailPopupOpen}\n\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\ticon={failure}\n\t\t\t\t\ttext=\"Oops, something went wrong! Please try again.\"\n\t\t\t\t/>\n\t\t\t</CurrentUserContext.Provider>\n\t\t</>\n\t);\n}\n\nexport default withRouter(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './pages/index.css';\nimport App from './components/App';\nimport { BrowserRouter } from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n     <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <App />\n     </BrowserRouter>\n    </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}